<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>

<div class="body">
  <div class="container mt-5">
    <h1 class="text-center text-secondary">Mi pedido</h1>
    </div>
    <div class="wrapper container d-flex justify-content-center">
      <div *ngIf="items.length > 0; else Empty">
        <table class="table table-light text-center table-striped table-with-margin">
        <thead>
          <tr>
            <th>Nombre producto</th>
            <th>Descripción</th>
            <th>Cantidad</th>
            <th>Precio</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of items; let i = index;">
            <td>{{item.nombre}}</td>
            <td>{{item.descripcionProd}}</td>
            <td>{{item.cantidad}}</td>
            <td>{{item.precioVenta}}</td>
            <td><button mat-fab color="warn" aria-label="delete" *ngIf="i != null" (click)="eliminarProducto(i)">
                <mat-icon>delete</mat-icon>
            </button>
            </td>
          </tr>
        </tbody>
    </table>
  </div>

  <!-- <div class="horaRetiro">
    <label>Selecciona la hora de retiro de tu pedido</label>
    <select [(ngModel)]="selectedHour">
      <option *ngFor="let hour of hours" [value]="hour">{{ hour }}</option>
    </select>
    
  </div> -->

  <!--Inicio Input Nombre Producto-->
  <div class="mb-3">
    <label for="exampleFormControlInput1" class="form-label label-width">Selecciona la hora de retiro de tu pedido*</label>
    <input type="time" class="form-control" required placeholder="Ej:Bebida" id="exampleFormControlInput1" name="retiro">
  </div>  

  <ng-template #Empty>
    <img mat-card-image src="../assets/meme2.png" alt="meme" id="img" width="100">
    <h2 class="d-flex justify-content-center p-4 mb-5 alert alert-secondary">Aun no has agregado productos a tu pedido.</h2>
  </ng-template>

  {{ redirectUrl }}
  {{ token }}
  <form method="post" [action]="redirectUrl">
    <input type="hidden" name="token_ws" [value]="token" />
    <input type="submit" value="Ir a pagar" />
  </form>
  
    <div class="buttons">
      <button mat-raised-button color="accent" class="button1" [routerLink]="['/show-products']">Agregar más productos</button>
      <button *ngIf="items.length > 0" mat-raised-button color="primary" (click)="realizarPedido()" class="button1">Pagar</button>
    <!-- <button *ngIf="items.length > 0" mat-raised-button color="primary" (click)="realizarPago()" class="button2">transbank</button> -->
    </div>
  </div>
</div>

